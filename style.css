/* === 기본 설정 === */
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
    font-family: 'Noto Sans KR', sans-serif;
    color: white;
    background: linear-gradient(180deg, #FFB7C5 0%, #E0B0FF 25%, #483D8B 60%, #0a0a0a 100%);
    overflow-x: hidden;
}
h1, h2, h3 { font-family: 'Noto Serif KR', serif; }
a { text-decoration: none; color: inherit; }

/* === 네비게이션 === */
.navbar {
    position: fixed; top: 0; left: 0; width: 100%;
    padding: 20px 50px;
    display: flex; justify-content: space-between; align-items: center;
    background: rgba(0, 0, 0, 0.3); backdrop-filter: blur(10px);
    z-index: 100;
}
.nav-logo { font-size: 1.5rem; font-weight: bold; font-family: 'Noto Serif KR', serif; }
.nav-menu { list-style: none; display: flex; gap: 30px; }
.nav-menu a { font-weight: bold; transition: 0.3s; }
.nav-menu a:hover { color: #FF69B4; }
.highlight-btn { background: #FF69B4; padding: 10px 20px; border-radius: 20px; color: white !important; }
.highlight-btn:hover { background: #ff85c2; box-shadow: 0 0 15px #FF69B4; }

/* === 공통 이미지 박스 (Placeholder) === */
.placeholder-img {
    width: 100%; height: 100%;
    background-color: rgba(255, 255, 255, 0.2);
    border: 2px dashed rgba(255, 255, 255, 0.5);
    display: flex; justify-content: center; align-items: center;
    text-align: center; border-radius: 15px;
    font-weight: bold; color: #fff; box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    /* 실제 이미지 넣을 때: background-image: url('...'); background-size: cover; */
}
.transformed-img {
    background-color: rgba(255, 105, 180, 0.2); border-color: #FF69B4;
    box-shadow: 0 0 30px rgba(255, 105, 180, 0.5);
}

/* style.css */

/* === 1. Hero Section (스크롤 변신 - 마법 커튼 효과) === */
#hero {
    height: 200vh; /* 스크롤 영역을 더 길게 잡아서 여유롭게 변신 */
    position: relative;
    display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
    padding-top: 15vh; text-align: center;
    overflow: hidden; /* 이미지가 튀어나가지 않게 */
}

/* 배경 이미지를 담는 컨테이너 (화면에 고정) */
.hero-bg-container {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: -2; /* 글씨보다 뒤에 */
}

/* 실제 배경 이미지들 공통 설정 */
.hero-bg {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background-position: center; background-size: cover;
    transition: filter 0.3s ease-out, opacity 0.3s ease-out; /* 부드러운 효과 */
}

/* 변신 전 (처음에 보임) */
.pre-transform { z-index: 1; opacity: 1; }
/* 변신 후 (처음에 숨김) */
.post-transform { z-index: 2; opacity: 0; }

/* 마법 커튼 (빛 효과 레이어) */
.magic-curtain {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    /* 핑크빛 섬광 그라데이션 */
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8), rgba(255, 182, 193, 0.6), rgba(255, 105, 180, 0.4));
    z-index: 3; /* 이미지들보다 위에 */
    opacity: 0; /* 처음엔 투명 */
    pointer-events: none; /* 마우스 클릭 통과 */
    backdrop-filter: blur(0px); /* 처음엔 블러 없음 */
    transition: all 0.1s linear; /* JS랑 연동되어 실시간 반응 */
}

/* --- 기존 타이틀 및 스크롤 다운 스타일 유지 --- */
.main-title { font-size: 4rem; text-shadow: 0 0 20px rgba(255, 105, 180, 0.8), 0 0 40px rgba(255, 105, 180, 0.4); margin-bottom: 10px; color: #fff; }
.slogan { font-size: 1.5rem; opacity: 0.9; text-shadow: 0 0 10px rgba(0,0,0,0.5); }
.scroll-down { position: absolute; bottom: 50px; animation: bounce 2s infinite; z-index: 10; text-shadow: 0 0 10px rgba(0,0,0,0.5); }

/* === 2. Worldview === */
#worldview {
    height: 80vh; display: flex; justify-content: center; align-items: center;
    position: relative; z-index: 5;
    margin-top: 60vh; /* Hero 공간 확보 */
    background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(5px);
}
.text-box { text-align: center; padding: 40px; border-top: 1px solid rgba(255,255,255,0.3); border-bottom: 1px solid rgba(255,255,255,0.3); }

/* === 3. Characters (카드 뒤집기) === */
#characters {
    position: relative; z-index: 5; padding: 100px 20px;
    background: linear-gradient(to bottom, transparent, rgba(0,0,0,0.8));
}
.section-title { text-align: center; font-size: 3rem; margin-bottom: 20px; }
.guide-text { text-align: center; color: #ccc; margin-bottom: 80px; }

.char-card {
    display: flex; 
    justify-content: center; 
    align-items: center; 
    gap: 60px; 
    margin-bottom: 150px; 
    opacity: 0; 
    transform: translateY(50px); 
    transition: 1s;
    
    /* ▼▼▼ 이 부분을 추가해줘! ▼▼▼ */
    width: 900px; /* 카드의 전체 너비를 고정 */
    margin-left: auto; /* 화면 중앙 정렬 */
    margin-right: auto; /* 화면 중앙 정렬 */
    /* ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲ */
}
.char-card.reverse { flex-direction: row-reverse; }

/* 3D Flip Core */
.flip-container {
    perspective: 1000px; width: 300px; height: 500px; cursor: pointer;
}
.flipper {
    width: 100%; height: 100%; position: relative;
    transition: 0.8s; transform-style: preserve-3d;
}
.flip-container.flipped .flipper { transform: rotateY(180deg); }
.front, .back {
    width: 100%; height: 100%; position: absolute; top: 0; left: 0;
    backface-visibility: hidden; -webkit-backface-visibility: hidden;
}
.front { z-index: 2; transform: rotateY(0deg); }
.back { transform: rotateY(180deg); }

.char-info { 
    /* max-width: 400px;  <-- 이 줄을 지우고 아래처럼 바꿔 */
    width: 400px; /* 고정 너비 사용 */
    flex-shrink: 0; /* 화면이 줄어도 찌그러지지 않게 방지 */
}
.char-info h3 { font-size: 2.5rem; margin-bottom: 10px; }
.char-info .role { font-size: 1.2rem; color: #ddd; margin-bottom: 20px; }
.char-info .desc { font-style: italic; font-size: 1.1rem; line-height: 1.6; }

/* 테마 컬러 */
.pink-theme h3 { color: #FFB7C5; text-shadow: 0 0 10px #FFB7C5; }
.blue-theme h3 { color: #87CEEB; text-shadow: 0 0 10px #87CEEB; }
.orange-theme h3 { color: #FFA500; text-shadow: 0 0 10px #FFA500; }
.villain-theme h3 { color: #ff3333; text-shadow: 0 0 10px #ff0000; }
.villain-theme .placeholder-img { border-color: #ff3333; background: rgba(50,0,0,0.3); }

/* === 4. Gameplay & 5. Details === */
#gameplay, #details {
    position: relative; z-index: 5; padding: 100px 20px; text-align: center;
    background: rgba(0,0,0,0.6);
}
.gallery-grid {
    display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;
    max-width: 1000px; margin: 40px auto;
}
.placeholder-box {
    width: 100%; height: 200px;
    background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.3);
    display: flex; justify-content: center; align-items: center;
}
.notice-board {
    max-width: 800px; margin: 0 auto;
    background: rgba(255,255,255,0.1); padding: 40px; border-radius: 10px;
}
.notice-board ul { list-style: none; text-align: left; }
.notice-board li { padding: 15px 0; border-bottom: 1px solid rgba(255,255,255,0.2); display: flex; justify-content: space-between; }

/* === Footer === */
footer {
    position: relative; z-index: 5; background: #050505; padding: 50px; text-align: center; color: #888;
}
.links a { color: #fff; margin: 0 10px; }

/* === 사전예약 페이지 스타일 === */
.preregister-container {
    height: 100vh; display: flex; justify-content: center; align-items: center;
    padding-top: 60px;
}
.form-box {
    background: rgba(0, 0, 0, 0.7); padding: 40px; border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.3); text-align: center; width: 450px;
    box-shadow: 0 0 30px rgba(255, 105, 180, 0.2);
}
.input-group { text-align: left; margin-bottom: 15px; }
.input-group input {
    width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #555;
    background: rgba(255, 255, 255, 0.1); color: white;
}
.submit-btn {
    width: 100%; padding: 15px; background: linear-gradient(90deg, #FF69B4, #E0B0FF);
    border: none; color: white; font-weight: bold; border-radius: 10px; cursor: pointer;
}
.submit-btn:hover { transform: scale(1.05); }

/* Animation Utility */
.visible { opacity: 1; transform: translateY(0); }
@keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }